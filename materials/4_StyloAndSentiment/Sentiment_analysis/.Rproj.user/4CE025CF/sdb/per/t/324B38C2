{
    "collab_server" : "",
    "contents" : "### Sentiment analysis exercises\n\nlibrary(syuzhet)\n\n### 1. Simple Syuzhet analysis\n\n### read the text\ntext <- readLines(\"texts_eng/Austen_Pride.txt\")\n\n### R reads the text line by line. To simplify Syuzhet's work, let's collapse it in a single line\ntext <- paste(text, collapse = \" \")\n\n### Here Syuzhet comes into action: it splits the text into sentences\nsentences_vector <- get_sentences(text)\n\n### ...and calulate the sentiment for each sentence\nsyuzhet_vector <- get_sentiment(sentences_vector, method=\"syuzhet\")\n\n### Visualize some stats\nsummary(syuzhet_vector)\n\n### Visualize the graph\nplot(\n  syuzhet_vector, \n  type=\"l\", \n  main=\"Pride and Prejudice Sentiment\", \n  xlab = \"Narrative Time\", \n  ylab= \"Emotional Valence\"\n)\n\n### ...it is quite noisy!\n### To have a \"plot arc\", we have to use a series of filters\n### The easiest is \"rolling mean\"\n\n# NOTE: before running the command, expand the \"Plots\" panel!\nsimple_plot(syuzhet_vector, title = \"Pride and Prejudice\")\n\n### Save the plot in png\npng(\"Austen_Syuzhet_simple_plot.png\", height = 900, width = 1600, res = 100)\nsimple_plot(syuzhet_vector, title = \"Pride and Prejudice\")\ndev.off()\n\n### Save the plot in svg (vectorial graphics)\nsvg(\"Austen_Syuzhet_simple_plot.svg\", height = 9, width = 16)\nsimple_plot(syuzhet_vector, title = \"Pride and Prejudice\")\ndev.off()\n\n### 2. Analysis of emotions\n\n### Using NRC emotion lexicon\n# but CAREFUL!!! It might take a bit of time...\nsyuzhet_emotions <- get_nrc_sentiment(sentences_vector)\n\n# to avoid issues, we can try just a session of the novel (the first 100 sentences)\nsyuzhet_emotions <- get_nrc_sentiment(sentences_vector[1:100])\n# some warnings might appear: in case, please ignore them...\n\n### check the values per emotion\nsyuzhet_emotions$disgust\nsyuzhet_emotions$... # try to delete the three dots and press TAB!\n\n### see just the beginning of the vectors\nhead(syuzhet_emotions$anger)\nhead(syuzhet_emotions$anticipation)\n\n### Simple plot sui valori di fiducia\nsimple_plot(syuzhet_emotions$trust, title = \"Trust in Pride and Prejudice\")\n\n### 3. Analysis of sentiment in French\n\n### Upload the \"OpeNER\" dictionary (for French language)\nload(\"OpeNER-fr.RData\")\n# it was downloaded from: https://github.com/opener-project/VU-sentiment-lexicon/tree/master/VUSentimentLexicon/FR-lexicon\n# It was reduced to two simple components:\n# word (or better, its lemma)\n# and value (a simple sentiment value)\n\n# to see how it was generated from the original file (in XML!), you can check the \"OpeNER_prepare.R\" file\n\n# explore OpeNER\nView(OpeNER)\n\n### Upload the French text\nFrench_text <- readLines(\"texts_fr/MOLIERE_MISANTHROPE.txt\")\n# here readLines comes up handy, because sentences are already split into separated lines\n# please ignore warning about incomplete final line!\n\n### Check the text\nhead(French_text)\n# the text is lemmatized (using UDPipe)\n# and already divided into sentences\n# to see how lemmatization was done, check the file \"Lemmatization_UDPipe.R\"\n\n### Calculate sentiment values for the text\n# note: the dictionary now used is OpeNER\nsyuzhet_vector_French <- get_sentiment(French_text, method = \"custom\", lexicon = OpeNER)\nsummary(syuzhet_vector_French)\n\n### Viualize the plot\nmy_title = \"Le Misanthrope de MoliÃ¨re\"\nsimple_plot(syuzhet_vector_French, title = my_title)\n\n### Save plot in png\npng(\"MOLIERE_MISANTHROPE_simple_plot.png\", height = 900, width = 1600, res = 100)\nsimple_plot(syuzhet_vector_French, title = my_title)\ndev.off()\n",
    "created" : 1580916914363.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1850093730",
    "id" : "324B38C2",
    "lastKnownWriteTime" : 1580916838,
    "last_content_update" : 1580916838,
    "path" : "~/ownCloud/EnExDi2020_datasets/Sentiment_analysis/Exercise_sentiment_analysis.R",
    "project_path" : "Exercise_sentiment_analysis.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}